<!DOCTYPE html>
<html>
    <head>
        <title>Event Tracking with USER-ID Example</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    </head>
    <body>
<!-- ------------------------------------------- -->

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-37178375-6', 'auto');
  ga('send', 'pageview');

</script>

<label>
    使用者ID: <input type="text" name="user_id" value="" />
</label>

<button type="button">這是一個按鈕</button>

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.2.2/jquery.min.js"></script>
<script type="text/javascript">
$(function () {
    // 為按鈕加上事件
    $("button").click(function () {
        // 加上事件的程式碼
        ga("send", "event", this.tagName, this.innerHTML);
    });
});

// 設定使用者ID
$(function () {
    var _name_array = ["Jaime Stokes", "Tami Ballard", "Leslie Thornton", "Daisy Bryant", "Gene Tyler", "Warren Hammond", "Woodrow Lawson", "Eva Fleming", "April Lambert", "Ruth Marsh"];
    var _i = Math.random() * _name_array.length;
    var _name = _name_array[_i];
    
    $('[name="user_id"]').val(_name);
    ga('set', 'userId', _name); // 使用已登入的 user_id 設定 User-ID。
    ga('set', 'dimension1', _name); // 自訂維度
});
</script>


<!-- ------------------------------------------- -->
    </body>
</html>
