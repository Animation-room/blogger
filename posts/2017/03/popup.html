<html>
    <head>
            <script type="text/javascript">

var _url = findGetParameter("url");
var _icon = findGetParameter("icon");

function findGetParameter(parameterName) {
    var result = undefined,
        tmp = [];
    location.search
    .substr(1)
        .split("&")
        .forEach(function (item) {
        tmp = item.split("=");
        if (tmp[0] === parameterName) result = decodeURIComponent(tmp[1]);
    });
    return result;
}

if (_icon !== undefined) {
    var head  = document.getElementsByTagName('head')[0];
    var link  = document.createElement('link');
    link.rel  = 'shortcut icon';
    link.href = findGetParameter("icon");
    head.appendChild(link);
    console.log('<link red="shortcut icon" href="'+link.href+'" />');
}

if (_url !== undefined) {
    window.open(findGetParameter("url"), "_blank", "resizable,scrollbars=yes,status=1");
    window.close();
}

            </script>
            <title>Popup</title>
    </head>
    <body></body>
</html>